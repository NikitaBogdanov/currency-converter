{"version":3,"sources":["components/CustomSelect/index.js","images/arrow-down-sign-to-navigate.png","App.js","reportWebVitals.js","index.js"],"names":["CustomSelect","current","rates","currencyList","handleOnChange","selector","useRef","node","useState","isOpenList","setIsOpenList","handleClick","e","contains","target","useEffect","document","addEventListener","removeEventListener","ref","className","onClick","style","backgroundImage","currency","height","window","pageYOffset","getBoundingClientRect","top","Object","keys","map","key","stopPropagation","handleOnSelect","App","value","setCurrent","setRates","setCurrencyList","fetch","then","response","json","data","type","getValue","toFixed","replace","onChange","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c710a0a8.chunk.js","sourcesContent":["import React, {useState, useEffect, useRef} from 'react';\nimport Arrow from '../../images/arrow-down-sign-to-navigate.png';\nimport './style.css';\n\nfunction CustomSelect({current, rates, currencyList, handleOnChange}) {\n    const selector = useRef();\n    const node = useRef();\n    const [isOpenList, setIsOpenList] = useState(false);\n\n    const handleClick = e => {\n        if (node.current && node.current.contains(e.target)) return;\n        setIsOpenList(false);\n    };\n\n    useEffect(() => {\n        const addListener = () => {\n            document.addEventListener('mousedown', handleClick);\n        };\n        addListener();\n        return () => {\n            document.removeEventListener('mousedown', handleClick);\n        };\n    }, []);\n\n    const handleOnSelect = (e, key) => {\n        setIsOpenList(false);\n        handleOnChange(key, \"currency\");\n        e.stopPropagation();\n    };\n\n    return (\n        <div ref={selector}\n             className=\"custom-select\"\n             onClick={() => {\n                 setIsOpenList(true)\n             }}\n        >\n            <div className=\"custom-select-input\">\n                <div\n                    className=\"custom-select-arrow\"\n                    style={{backgroundImage: `url(${Arrow})`}}\n                />\n                {current.currency}\n            </div>\n            {isOpenList && <div\n                className=\"custom-dropdown-list\"\n                ref={node}\n                style={{height: `calc(100vh - ${window.pageYOffset + selector.current.getBoundingClientRect().top + 16}px)`}}\n            >\n                {Object.keys(rates).map(key => (\n                    <div\n                        className={current.currency === key ? \"current\" : \"\"}\n                        key={key}\n                        onClick={(e) => {\n                            handleOnSelect(e, key)\n                        }}\n                    >\n                        <span>{currencyList[key]}</span>\n                    </div>\n                ))}\n            </div>}\n        </div>\n    );\n}\n\nexport default CustomSelect;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAfQAAAH0Bx0gPAAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACeSURBVDiN1ZPBDcIwDEWfMwt7sAQLMEWvnaRRC0dG4tY9+FyMZKgTIZULkSwl9n9PudgkseeUXfQvBAYcgQNQJT2+gswKcAbuACsgYAKKJHrlv56cWQEGfwioPYnDNeSH12AMzTmTODyH3CiJGIiSJUocXj7hN0EiuThY/L6BN4JEcvVK4VSQSJpwU5BIUlgS1tsFMzsBSLo1M/+/TE92ZfjD1tAH3gAAAABJRU5ErkJggg==\"","import React, {useState, useEffect} from 'react';\nimport CustomSelect from './components/CustomSelect'\nimport './App.css';\n\nfunction App() {\n    const [current, setCurrent] = useState({\n        currency: \"USD\",\n        value: \"1\"\n    });\n\n    const [rates, setRates] = useState({});\n    const [currencyList, setCurrencyList] = useState({});\n\n    useEffect(() => {\n        fetch('https://www.cbr-xml-daily.ru/latest.js')\n            .then(response => response.json())\n            .then(data => setRates({...data.rates, \"RUB\": 1}));\n\n        fetch('https://openexchangerates.org/api/currencies.json')\n            .then(response => response.json())\n            .then(data => setCurrencyList(data));\n    }, []);\n\n    const handleOnChange = (value, type) => {\n        setCurrent({...current, [type]: value});\n    };\n\n    const getValue = (key) => {\n        const result = (current.value / rates[current.currency] * rates[key]);\n        return result.toFixed(2).replace(\".\", \",\");\n    };\n\n    return (\n        <div className=\"container\">\n            <div className=\"header\">\n                Currency converter\n            </div>\n            <div className=\"content\">\n                <div className=\"input-panel\">\n                    <CustomSelect\n                        current={current}\n                        rates={rates}\n                        currencyList={currencyList}\n                        handleOnChange={handleOnChange}\n                    />\n                    <input\n                        className=\"currency-input\"\n                        type=\"number\" value={current.value}\n                        onChange={(e) => handleOnChange(e.target.value, \"value\")}\n                    />\n                </div>\n\n                <div className=\"currency-list\">\n                    {Object.keys(rates).map(key => (\n                        <div\n                            className=\"currency-row\"\n                            key={key}\n                        >\n                            <div className=\"currency-key\">{key}</div>\n                            <div className=\"currency-value\">{getValue(key)}</div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}